# Variables para Docker Compose - Staging
# Este archivo contiene solo variables usadas por Docker Compose
# Las variables de Laravel están en .env.example en la raíz

# Variable para seleccionar este archivo (usado por docker-compose.yml)
APP_ENV=staging

# Variables para servicio PostgreSQL (Docker Compose)
DB_DATABASE=apygg
DB_USERNAME=apygg
DB_PASSWORD=secret

# Variables de conexión a servicios Docker (nombres de servicios en la red Docker)
# Estas variables son específicas de Docker y se pasan al contenedor Laravel
DB_HOST=postgres
DB_PORT=5432
REDIS_HOST=redis
REDIS_PORT=6379
MEILISEARCH_HOST=http://meilisearch:7700

# Reverb (WebSockets)
REVERB_HOST=staging.TU_DOMINIO.com
REVERB_PORT=443
REVERB_SCHEME=https
REVERB_APP_ID=apygg
REVERB_APP_KEY=staging-reverb-key
REVERB_APP_SECRET=staging-reverb-secret

# Horizon (Colas)
HORIZON_PREFIX=apygg_horizon

# Telescope (Habilitado en staging para debugging)
TELESCOPE_ENABLED=true

# MinIO (S3 compatible - Solo staging)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# FrankenPHP / Octane Configuration
# Puerto del servidor (fijo en staging, puede ser dinámico según PaaS)
PORT=8000

# SSL con FrankenPHP/Caddy (opcional)
# true: FrankenPHP maneja SSL automáticamente con Let's Encrypt (solo si no hay proxy externo)
# false: Proxy externo (Nginx/Caddy) maneja SSL (recomendado)
USE_FRANKENPHP_SSL=false

# Nombre del servidor para SSL automático (solo si USE_FRANKENPHP_SSL=true)
# Ejemplo: api-staging.tudominio.com
SERVER_NAME=

# Nota: Los logs se almacenan en la misma BD (apygg) con particionamiento mensual
# No se usa BD separada para logs según arquitectura del proyecto
